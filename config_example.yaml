# ======================================================
# ClinTall configuration file
# ======================================================

# ----------------------
# Tasks to run (in order)
# ----------------------
# Available tasks:
# - hyperopt
# - validate
# - test_user_model
# - predict_user_model
tasks:
  - test_user_model
  - predict_user_model


# ----------------------
# DataManager settings
# ----------------------
DataManager:

  # Path to reference (paper) dataset
  reference_data_path: data/reference

  # Path to user dataset (can be omitted if not using user models)
  user_data_path: data/user

  # Path to user reference dataset (used for training user models)
  user_reference_data_path: data/user/reference

  # Path to validation datasets
  validation_data_path: data/validation

  # Modalities present in the user data
  user_data_modalities:
    - gene_expression
    - clinical
    - variants
    - cnv

  # Validation cohorts (filenames without extension)
  validation_data_cohorts:
    - pölönen
    - hackenhaar

  # File formats: csv or tsv
  ref_file_format: tsv
  user_file_format: tsv
  val_file_format: tsv

  # Which validation cohort is used as training reference
  validation_data_reference: pölönen

  # Gene identifier type used in gene expression matrices
  # Options:
  # - ensembl_id (default)
  # - gene_symbol
  gene_id_or_name: ensembl_id

  # Directory where trained user models are saved
  user_model_dir: user_models


# ----------------------
# ClinTall configuration
# ----------------------
Config:

  # Modalities to include in hyperparameter optimization
  datasets_for_hyperopt:
    - Combined
    - gene_expression
    - clinical
    - variants
    - cnv

  # Hyperparameter search space
  # Leave as null to use defaults defined in code
  hyperparameter_space: null

  # Weighting between survival (c-index) and classification accuracy
  # 0.0 = accuracy only
  # 1.0 = c-index only
  optimize_metric_weighting: 0.5

  # Number of Optuna trials per modality
  num_hyperopt_trials: 75

  # Output directories
  hyperopt_save_dir: hyperopt_results
  validation_save_dir: validation_results
  inference_save_dir: prediction_results
  user_save_dir: user_models

  # Whether to load predefined hyperparameters (best_params_*.json)
  use_params: false

  # Modalities to use when running user-model inference
  # If omitted, defaults to ['gene_expression', 'Combined']
  # predict_with_user_model_modalities:
  #   - gene_expression
  #   - Combined
